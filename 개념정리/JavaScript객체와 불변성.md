# JavaScript 객체와 불변성

## 기본형과 참조형 데이터
#### - 자바스크립트의 데이터 타입은 기본형과 참조형으로 나누어진다.

<br>
1. 기본형(primitive Type)

- string, Number, Boolean, Null, Undefined
- 기본형은 값을 변수에 담아 사용할 때는 값이 그대로 할당된다.(변수=값)

2.참조형(Reference Type)
- object
- 참조형은 값을 변수에 담아 사용할 때는 해당 객체를 담은 주소값이 할당된다.(변수=주소값)
- 참조형 데이터들은 key:value로 묶인 쌍들로 이루어져 있다.
```
let x = {name:'Codeit'}
let y = x

console.log(x)//{name: 'Codeit'} 출력
console.log(y)//{name: 'Codeit'} //y는 x와 같은 주소값을 가지고 있기때문에 x값이 출력된다.
y.birth = 2017
console.log(x)//{name: 'Codeit', birth: 2017}
//-> birth 값을 x에 따로 추가해주는 코드는 없지만 let y=x를 통해 주소값이 복사되어 같은 주소값을 가지고 있기때문에 한곳에만 추가해서 콘솔을 찍어도 같은 값이 출력됨
console.log(y)//{name: 'Codeit', birth: 2017}
```

<br>

---

## 불변 객체를 만드는 방법
#### - 객체에 변화를 가해도 원본이 그대로 남아있어야 하는 경우, 불변객체가 필요하다.
- 기본형 타입인 Boolean / String / Number / null / undefined은 모두 불변의 성격을 가지고 있다.
- 참조형 타입을 불변하게 하기 위해서는 변수를 선언할 때 var나 let이 아닌 const를 사용하면 된다.

<br>

### <변수의 const   vs   상수의 const>
- 변수는 변경이 가능하고, 상수는 변경이 불가능하다.
- 이름을 짓는 방식으로 구분이 가능하다.
  - 변수 이름은 기본적으로 영어 소문자로 작성(ex>name)<br>여러단어들이 조합될 때는 두번째로 오는 단어부터는 각문자의 첫 문자를 대문자로 작성(ex>myName)
  - 상수 이름은 기본적으로 영어 대문자로 작성(ex>NAME), 여러단어들이 조합될 때는 밑줄로 단어를 구분(ex>MY_NAME)
  - 일관된 값으로 상수가 필요할 때는 이름을 명확하게 상수로 표현하는 것이 좋음

<br>

---

## 얕은 복사와 깊은 복사
<br>

### 1. 얕은 복사(shallow copy)
- 참조형 데이터가 저장된 프로퍼티를 복사할 때 그 주소값만 복사하는 방법이다.
- 얕은 복사를 하는 방법
  - Object.assign()
    - 첫번째 요소로 들어온 객체에 다음인자로 들어온 객체를 복사해준다.
  - 전개연산자
    - 직관적이고, 배열의 아무 곳에 추가 가능하다.
- 얕은 복사의 문제점
  - 객체 안에 객체, 객체 안에 배열이 있는 중첩 객체에서 복사가 되지않는 문제가 발생한다.

<br>

### 2. 깊은 복사(deep copy)
- 깊은 복사된 객체는 객체 안에 객체가 있을 경우에도 원본과의 참조가 완전히 끊어진 객체를 말한다.
- 깊은 복사를 하는 방법 
  - 재귀함수를 이용한 복사
    - 함수가 자신을 다시 호출하는 구조로 만들어진 재귀함수를 통해 최하단 계층까지 내려가 직접 복사를 해준다.
    - 단점은 객체의 객체에 최적화된 함수이기때문에 객체의 배열을 객체의 객체로 변환시켜버린다.
  - JSON 객체의 메소드 이용
    - JSON.stringify()는 객체를 JSON 문자열로 변환하는데 이 과정에서 원본 객체와의 참조가 모두 끊어지고, 변환한 후 JSON.parse()를 이용해 JSON 문자열을 다시 자바스크립트 객체로 만들어주면 깊은 복사가 된다.


